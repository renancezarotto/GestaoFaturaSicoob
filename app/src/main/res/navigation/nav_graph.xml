<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/nav_graph"
    app:startDestination="@id/loginFragment">

    <fragment
        android:id="@+id/loginFragment"
        android:name="br.edu.utfpr.gestaofaturasicoob.presentation.auth.LoginFragment"
        android:label="Login">
        <action
            android:id="@+id/action_loginFragment_to_registerFragment"
            app:destination="@id/registerFragment" />
        <action
            android:id="@+id/action_loginFragment_to_dashboardFragment"
            app:destination="@id/dashboardFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
    </fragment>

    <fragment
        android:id="@+id/registerFragment"
        android:name="br.edu.utfpr.gestaofaturasicoob.presentation.auth.RegisterFragment"
        android:label="Criar Conta">
        <action
            android:id="@+id/action_registerFragment_to_dashboardFragment"
            app:destination="@id/dashboardFragment"
            app:popUpTo="@id/loginFragment"
            app:popUpToInclusive="true" />
    </fragment>

            <fragment
                android:id="@+id/dashboardFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.dashboard.DashboardFragment"
                android:label="Dashboard">
                <action
                    android:id="@+id/action_dashboardFragment_to_manageGoalsFragment"
                    app:destination="@id/manageGoalsFragment" />
                <action
                    android:id="@+id/action_dashboardFragment_to_uploadInvoiceFragment"
                    app:destination="@id/uploadInvoiceFragment" />
            </fragment>

            <fragment
                android:id="@+id/manageGoalsFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.goals.ManageGoalsFragment"
                android:label="Gerenciar Metas" />

            <fragment
                android:id="@+id/uploadInvoiceFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.invoice.UploadInvoiceFragment"
                android:label="Upload de Fatura">
                <action
                    android:id="@+id/action_uploadInvoice_to_categorizeExpenses"
                    app:destination="@id/categorizeExpensesFragment" />
            </fragment>

            <fragment
                android:id="@+id/categorizeExpensesFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.invoice.CategorizeExpensesFragment"
                android:label="Categorizar Despesas">
                <!-- Argument removido - usando Bundle ao invés de SafeArgs -->
            </fragment>

            <!-- Main Navigation Fragments -->
            <fragment
                android:id="@+id/invoicesFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.invoice.InvoicesFragment"
                android:label="Faturas">
                <action
                    android:id="@+id/action_invoices_to_invoiceDetail"
                    app:destination="@id/invoiceDetailFragment" />
            </fragment>
            
            <fragment
                android:id="@+id/invoiceDetailFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.invoice.InvoiceDetailFragment"
                android:label="Detalhes da Fatura" />

            <fragment
                android:id="@+id/reportsFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.reports.ReportsFragment"
                android:label="Relatórios" />

            <fragment
                android:id="@+id/profileFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.profile.ProfileFragment"
                android:label="Perfil">
                <action
                    android:id="@+id/action_profileFragment_to_manageCategoriesFragment"
                    app:destination="@id/manageCategoriesFragment" />
                <action
                    android:id="@+id/action_profileFragment_to_manageGoalsFragment"
                    app:destination="@id/manageGoalsFragment" />
            </fragment>

            <fragment
                android:id="@+id/manageCategoriesFragment"
                android:name="br.edu.utfpr.gestaofaturasicoob.presentation.categories.ManageCategoriesFragment"
                android:label="Gerenciar Categorias" />

        </navigation>
